{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"SOP: Change UBIQCM4XXX to JTURPCM4XXX","text":""},{"location":"#overview","title":"Overview","text":"<p>This document describes the Standard Operating Procedure (SOP) to: - Change device ID from <code>UBIQCM4XXX</code> to <code>JTURPCM4XXX</code> - Disable and remove Remote.it services - Update UB_JTEDS code - Change SIM and verify 4G - Update hostname</p> <p>All commands are copy-paste ready.</p>"},{"location":"#1-upload-ub_jteds-code","title":"1. Upload UB_JTEDS Code","text":"<p>Upload the folder UB_JTEDS written by Saikat.</p> <p>This ensures the device number changes from: <pre><code>UBIQCM4XXX \u2192 JTURPCM4XXX\n</code></pre></p>"},{"location":"#2-disable-remove-remoteit-services","title":"2. Disable &amp; Remove Remote.it Services","text":""},{"location":"#update-system","title":"Update System","text":"<pre><code>sudo apt update &amp;&amp; sudo apt upgrade -y\n</code></pre>"},{"location":"#identify-services","title":"Identify Services","text":"<pre><code>ps aux | grep remoteit\n</code></pre> <p>Common services: - demuxer - schannel</p>"},{"location":"#stop-services","title":"Stop Services","text":"<pre><code>sudo systemctl stop remoteit\nsudo systemctl stop demuxer\nsudo systemctl stop schannel\n</code></pre>"},{"location":"#disable-on-boot","title":"Disable on Boot","text":"<pre><code>sudo systemctl disable remoteit\nsudo systemctl disable demuxer\nsudo systemctl disable schannel\n</code></pre>"},{"location":"#remove-completely","title":"Remove Completely","text":"<pre><code>sudo apt purge remoteit -y\nsudo rm -rf /usr/share/remoteit\nsudo rm -rf /etc/remoteit\n</code></pre>"},{"location":"#verify","title":"Verify","text":"<p><pre><code>ps aux | grep remoteit\n</code></pre> No output = success.</p>"},{"location":"#3-code-update-ub_jteds","title":"3. Code Update (UB_JTEDS)","text":""},{"location":"#backup-existing-code","title":"Backup Existing Code","text":"<pre><code>ssh UbiqCM4@&lt;DEVICE_IP&gt;\nmv UB_JTEDS UB_JTEDS_old_$(date +%F_%H-%M)\n</code></pre> <p>To find IP: Mobile Hotspot \u2192 Manage Devices</p>"},{"location":"#copy-new-code-from-pc","title":"Copy New Code (From PC)","text":"<pre><code>cd ~/Desktop\nscp -r UB_JTEDS UbiqCM4@&lt;DEVICE_IP&gt;:/home/UbiqCM4/\n</code></pre>"},{"location":"#fix-permissions","title":"Fix Permissions","text":"<pre><code>ssh UbiqCM4@&lt;DEVICE_IP&gt;\ncd /home/UbiqCM4\nchmod -R 755 UB_JTEDS\n</code></pre>"},{"location":"#restart-services","title":"Restart Services","text":"<pre><code>sudo systemctl daemon-reload\nsudo systemctl restart main\nsudo systemctl restart system_control\nsudo systemctl restart logged_data_sync\nsudo systemctl restart handle_4G\n</code></pre>"},{"location":"#verify-logs","title":"Verify Logs","text":"<p><pre><code>journalctl -u main -f\n</code></pre> Expected: <pre><code>Connected to MQTT broker\n</code></pre></p>"},{"location":"#4-update-access-token","title":"4. Update Access Token","text":"<p>Update <code>access_token</code> inside code: <pre><code>JTURPCM4@XXX\n</code></pre> Example: <pre><code>UbiqCM4@268 \u2192 JTURPCM4268\n</code></pre></p>"},{"location":"#5-sim-4g-verification","title":"5. SIM &amp; 4G Verification","text":"<p>Run: <pre><code>python3 handle_4G.py\n</code></pre></p> <p>Expected Output: <pre><code>VI APN configured\nInternet connected\n4G modem &amp; usb0 detected\n</code></pre></p>"},{"location":"#6-change-device-hostname","title":"6. Change Device Hostname","text":""},{"location":"#check-current","title":"Check Current","text":"<pre><code>hostnamectl\n</code></pre>"},{"location":"#update-hostname","title":"Update Hostname","text":"<pre><code>sudo hostnamectl set-hostname JTURPCM4XXX\n</code></pre>"},{"location":"#update-hosts-file","title":"Update Hosts File","text":"<pre><code>sudo nano /etc/hosts\n</code></pre> <p>Change: <pre><code>127.0.1.1    CM4268\n</code></pre> To: <pre><code>127.0.1.1    JTURPCM4268\n</code></pre></p> <p>Save: - CTRL + O \u2192 Enter - CTRL + X</p>"},{"location":"#reboot","title":"Reboot","text":"<pre><code>sudo reboot\n</code></pre> <p>Wait 2 minutes \u2192 Power cycle device.</p>"},{"location":"#verify_1","title":"Verify","text":"<pre><code>hostnamectl\n</code></pre>"},{"location":"#7-useful-scp-command","title":"7. Useful SCP Command","text":"<p>Download code from device to PC: <pre><code>scp -r UbiqCM4@&lt;DEVICE_IP&gt;:/home/UbiqCM4/UB_JTEDS ~/Desktop/\n</code></pre></p>"},{"location":"#sop-completed-successfully","title":"SOP Completed Successfully","text":""}]}